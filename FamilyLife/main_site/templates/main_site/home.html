{% extends 'base.html' %}
{% load static %}

{% block header %}
{% endblock %}

{% block content %}

<section class="main">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="text-center text-uppercase mb-5" id="main_post">Топ постов</h2>
            </div>
        </div>
    </div>
</section>

<div class="container border-bottom">
    <div class="carousel" data-bs-interval="false" id="myCarousel" style="margin-bottom: 3rem">
        <div class="carousel-inner text-center">
        {% for post in posts %}
            <div class="carousel-item{% if forloop.first %} active{% endif %}">
                <h3>{{ post.title }}</h3>
                <!-- <img src="{{ post.image.url }}" class="d-block w-100" alt="..."> -->
                <p>{{ post.content|linebreaks|truncatewords:10 }}</p>
                <a href="{{ post.get_absolute_url }}" class="btn btn-primary">Читать</a>
            </div>
        {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarousel" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
            </a>
    </div>
</div>

<section class="main">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="text-center text-uppercase mb-2">Лучший пост</h2>
            </div>
        </div>
    </div>
</section>

<div class="d-flex text-center justify-content-center border-bottom">
    <div class="card bg-primary text-white p-3 my-5 rounded-circle" style="width: 200px; height: 200px;">
        <h3 class="card-title text-center">{{ best.title }}</h3>
        <p class="card-text">{{ best.content|linebreaks|truncatewords:10 }}</p>
        <a href="{{ best.get_absolute_url }}" class="btn btn-primary">Читать</a>
    </div>
</div>



<section class="main">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="text-center text-uppercase mb-5" id="main_post">Новое на сайте</h2>
            </div>
        </div>
    </div>
</section>

<div class="container">
    <div class="carousel" data-bs-interval="false" id="myCarousel1" style="margin-bottom: 3rem">
        <div class="carousel-inner text-center">
        {% for pos in post_new %}
            <div class="carousel-item{% if forloop.first %} active{% endif %}">
                <h3>{{ pos.title }}</h3>
                <!-- <img src="{{ post.image.url }}" class="d-block w-100" alt="..."> -->
                <p>{{ pos.content|linebreaks|truncatewords:10 }}</p>
                <a href="{{ pos.get_absolute_url }}" class="btn btn-primary">Читать</a>
            </div>
        {% endfor %}
        </div>
            <a class="carousel-control-prev" href="#myCarousel1" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarousel1" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
            </a>
    </div>
</div>
{% endblock %}